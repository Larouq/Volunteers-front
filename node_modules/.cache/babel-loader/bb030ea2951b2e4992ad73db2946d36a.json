{"ast":null,"code":"var featurecollection = require('turf-helpers').featureCollection;\n\nvar polygon = require('turf-helpers').polygon;\n\nvar distance = require('turf-distance');\n/**\n * Takes a bounding box and a cell depth and returns a set of triangular {@link Polygon|polygons} in a grid.\n *\n * @name triangleGrid\n * @param {Array<number>} bbox extent in [minX, minY, maxX, maxY] order\n * @param {number} cellSize dimension of each cell\n * @param {string} units units to use for cellWidth\n * @return {FeatureCollection<Polygon>} grid of polygons\n * @example\n * var extent = [-77.3876953125,38.71980474264239,-76.9482421875,39.027718840211605];\n * var cellWidth = 10;\n * var units = 'miles';\n *\n * var triangleGrid = turf.triangleGrid(extent, cellWidth, units);\n *\n * //=triangleGrid\n */\n\n\nmodule.exports = function (bbox, cellSize, units) {\n  var fc = featurecollection([]);\n  var xFraction = cellSize / distance([bbox[0], bbox[1]], [bbox[2], bbox[1]], units);\n  var cellWidth = xFraction * (bbox[2] - bbox[0]);\n  var yFraction = cellSize / distance([bbox[0], bbox[1]], [bbox[0], bbox[3]], units);\n  var cellHeight = yFraction * (bbox[3] - bbox[1]);\n  var xi = 0;\n  var currentX = bbox[0];\n\n  while (currentX <= bbox[2]) {\n    var yi = 0;\n    var currentY = bbox[1];\n\n    while (currentY <= bbox[3]) {\n      if (xi % 2 === 0 && yi % 2 === 0) {\n        fc.features.push(polygon([[[currentX, currentY], [currentX, currentY + cellHeight], [currentX + cellWidth, currentY], [currentX, currentY]]]), polygon([[[currentX, currentY + cellHeight], [currentX + cellWidth, currentY + cellHeight], [currentX + cellWidth, currentY], [currentX, currentY + cellHeight]]]));\n      } else if (xi % 2 === 0 && yi % 2 === 1) {\n        fc.features.push(polygon([[[currentX, currentY], [currentX + cellWidth, currentY + cellHeight], [currentX + cellWidth, currentY], [currentX, currentY]]]), polygon([[[currentX, currentY], [currentX, currentY + cellHeight], [currentX + cellWidth, currentY + cellHeight], [currentX, currentY]]]));\n      } else if (yi % 2 === 0 && xi % 2 === 1) {\n        fc.features.push(polygon([[[currentX, currentY], [currentX, currentY + cellHeight], [currentX + cellWidth, currentY + cellHeight], [currentX, currentY]]]), polygon([[[currentX, currentY], [currentX + cellWidth, currentY + cellHeight], [currentX + cellWidth, currentY], [currentX, currentY]]]));\n      } else if (yi % 2 === 1 && xi % 2 === 1) {\n        fc.features.push(polygon([[[currentX, currentY], [currentX, currentY + cellHeight], [currentX + cellWidth, currentY], [currentX, currentY]]]), polygon([[[currentX, currentY + cellHeight], [currentX + cellWidth, currentY + cellHeight], [currentX + cellWidth, currentY], [currentX, currentY + cellHeight]]]));\n      }\n\n      currentY += cellHeight;\n      yi++;\n    }\n\n    xi++;\n    currentX += cellWidth;\n  }\n\n  return fc;\n};","map":null,"metadata":{},"sourceType":"script"}