{"ast":null,"code":"import _regeneratorRuntime from \"/Users/adotmob/Desktop/volunteers-front/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/adotmob/Desktop/volunteers-front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/adotmob/Desktop/volunteers-front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/adotmob/Desktop/volunteers-front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/adotmob/Desktop/volunteers-front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/adotmob/Desktop/volunteers-front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/adotmob/Desktop/volunteers-front/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/adotmob/Desktop/volunteers-front/src/Modal_createRequest/modalRequest.js\";\nimport React, { Component } from \"react\";\nimport { Modal, Button, Form } from \"react-bootstrap\";\nimport { getAddress, submitRequest } from \"../api/backendApi\";\nimport debounce from \"lodash.debounce\";\n\nvar ModalCreateRequest =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ModalCreateRequest, _Component);\n\n  function ModalCreateRequest(props) {\n    var _this;\n\n    _classCallCheck(this, ModalCreateRequest);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ModalCreateRequest).call(this, props));\n\n    _this.handleChangeRequestTitle = function (elem) {\n      _this.setState({\n        requestTitle: elem.target.value\n      });\n    };\n\n    _this.handleChangeDescription = function (elem) {\n      _this.setState({\n        description: elem.target.value\n      });\n    };\n\n    _this.handleChangeAddress = function (elem) {\n      _this.setState({\n        address: elem.target.value\n      });\n\n      if (!_this.state.address.length) debounce(function () {\n        _this.onSearchAddress(_this.state.address);\n      }, 500)();\n    };\n\n    _this.handleSubmitRequest = function () {\n      var _this$state = _this.state,\n          requestTitle = _this$state.requestTitle,\n          description = _this$state.description,\n          geoObject = _this$state.geoObject;\n      var _localStorage = localStorage,\n          authentification_token = _localStorage.authentification_token,\n          client = _localStorage.client,\n          email = _localStorage.email;\n      var form = {\n        title: requestTitle,\n        description: description,\n        address: geoObject\n      };\n      submitRequest(authentification_token, client, email, form);\n    };\n\n    _this.state = {\n      requestTitle: \"\",\n      address: \"\",\n      description: \"\",\n      userId: _this.props.userId,\n      geoObject: {}\n    };\n    return _this;\n  }\n\n  _createClass(ModalCreateRequest, [{\n    key: \"onSearchAddress\",\n    value: function () {\n      var _onSearchAddress = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(value) {\n        var result, GeoObject;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return getAddress(value);\n\n              case 2:\n                result = _context.sent;\n                GeoObject = result.data.response.GeoObjectCollection.featureMember[0].GeoObject;\n                this.setState({\n                  geoObject: GeoObject\n                });\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function onSearchAddress(_x) {\n        return _onSearchAddress.apply(this, arguments);\n      }\n\n      return onSearchAddress;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Modal, {\n        show: this.props.show,\n        onHide: this.props.onHide,\n        size: \"lg\",\n        centered: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(Modal.Header, {\n        closeButton: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(Modal.Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, \"Create Request\")), React.createElement(Modal.Body, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        controlId: \"request-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"Request title\"), React.createElement(Form.Control, {\n        type: \"text\",\n        placeholder: \"Request title\",\n        onChange: this.handleChangeRequestTitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      })), React.createElement(Form.Group, {\n        controlId: \"address\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"Address\"), React.createElement(\"input\", {\n        placeholder: \"Address\",\n        type: \"text\",\n        onBlur: this.handleChangeAddress,\n        className: \"form-control\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      })), React.createElement(Form.Group, {\n        controlId: \"description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"Description\"), React.createElement(Form.Control, {\n        as: \"textarea\",\n        rows: \"4\",\n        onChange: this.handleChangeDescription,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      })))), React.createElement(Modal.Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"secondary\",\n        onClick: this.props.onCloseModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, \"Close\"), React.createElement(Button, {\n        variant: \"primary\",\n        onClick: function onClick() {\n          return console.log(\"here\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \"Submit\")));\n    }\n  }]);\n\n  return ModalCreateRequest;\n}(Component);\n\nexport default ModalCreateRequest;","map":{"version":3,"sources":["/Users/adotmob/Desktop/volunteers-front/src/Modal_createRequest/modalRequest.js"],"names":["React","Component","Modal","Button","Form","getAddress","submitRequest","debounce","ModalCreateRequest","props","handleChangeRequestTitle","elem","setState","requestTitle","target","value","handleChangeDescription","description","handleChangeAddress","address","state","length","onSearchAddress","handleSubmitRequest","geoObject","localStorage","authentification_token","client","email","form","title","userId","result","GeoObject","data","response","GeoObjectCollection","featureMember","show","onHide","onCloseModal","console","log"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Modal, Button, Form } from \"react-bootstrap\";\nimport { getAddress, submitRequest } from \"../api/backendApi\";\nimport debounce from \"lodash.debounce\";\n\nclass ModalCreateRequest extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      requestTitle: \"\",\n      address: \"\",\n      description: \"\",\n      userId: this.props.userId,\n      geoObject: {}\n    };\n  }\n\n  handleChangeRequestTitle = elem => {\n    this.setState({ requestTitle: elem.target.value });\n  };\n  handleChangeDescription = elem => {\n    this.setState({ description: elem.target.value });\n  };\n\n  async onSearchAddress(value) {\n    const result = await getAddress(value);\n    const { GeoObject } = result.data.response.GeoObjectCollection.featureMember[0];\n    this.setState({ geoObject: GeoObject });\n  }\n\n  handleChangeAddress = elem => {\n    this.setState({ address: elem.target.value });\n    if (!this.state.address.length)\n      debounce(() => {\n        this.onSearchAddress(this.state.address);\n      }, 500)();\n  };\n\n  handleSubmitRequest = () => {\n    const { requestTitle, description, geoObject } = this.state\n    const { authentification_token, client, email} = localStorage\n    const form = {\n      title: requestTitle,\n      description,\n      address: geoObject\n    }\n\n    submitRequest(authentification_token, client, email, form)\n\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.props.show}\n        onHide={this.props.onHide}\n        size=\"lg\"\n        centered\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Create Request</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <Form>\n            <Form.Group controlId=\"request-title\">\n              <Form.Label>Request title</Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Request title\"\n                onChange={this.handleChangeRequestTitle}\n              />\n            </Form.Group>\n            <Form.Group controlId=\"address\">\n              <Form.Label>Address</Form.Label>\n              <input\n                placeholder={\"Address\"}\n                type=\"text\"\n                onBlur={this.handleChangeAddress}\n                className=\"form-control\"\n              />\n            </Form.Group>\n            <Form.Group controlId=\"description\">\n              <Form.Label>Description</Form.Label>\n              <Form.Control\n                as=\"textarea\"\n                rows=\"4\"\n                onChange={this.handleChangeDescription}\n              />\n            </Form.Group>\n          </Form>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={this.props.onCloseModal}>\n            Close\n          </Button>\n          <Button variant=\"primary\" onClick={() => console.log(\"here\")}>\n            Submit\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    );\n  }\n}\n\nexport default ModalCreateRequest;\n"]},"metadata":{},"sourceType":"module"}