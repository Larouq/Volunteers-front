{"ast":null,"code":"import _regeneratorRuntime from \"/Users/adotmob/Desktop/volunteers-front/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/adotmob/Desktop/volunteers-front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/adotmob/Desktop/volunteers-front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/adotmob/Desktop/volunteers-front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/adotmob/Desktop/volunteers-front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/adotmob/Desktop/volunteers-front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/adotmob/Desktop/volunteers-front/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/adotmob/Desktop/volunteers-front/src/Modal_userRequest/modalUserRequest.js\";\nimport React, { Component } from \"react\";\nimport { Modal, Button, Card, Row, Col } from \"react-bootstrap\";\nimport { withRouter } from \"react-router\";\nimport { fetchRequests, deleteRequest } from \"../api/backendApi\";\nimport \"./modelUserRequest.scss\";\n\nvar ModalUserRequest =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ModalUserRequest, _Component);\n\n  function ModalUserRequest(props) {\n    var _this;\n\n    _classCallCheck(this, ModalUserRequest);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ModalUserRequest).call(this, props));\n\n    _this.handleSubmit = function (requestId, requestTitle) {\n      deleteRequest(requestId);\n\n      _this.setState({\n        requestTitle: requestTitle,\n        openAlertDeleteRequest: true\n      });\n    };\n\n    _this.state = {\n      requests: [],\n      openAlertDeleteRequest: false,\n      requestTitle: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(ModalUserRequest, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var _localStorage, authentication_token, client, email, requests;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _localStorage = localStorage, authentication_token = _localStorage.authentication_token, client = _localStorage.client, email = _localStorage.email;\n                _context.next = 3;\n                return fetchRequests(authentication_token, client, email, localStorage.user_id);\n\n              case 3:\n                requests = _context.sent;\n                this.setState({\n                  requests: requests\n                });\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(Modal, {\n        show: this.props.show,\n        onHide: this.props.onHide,\n        size: \"lg\",\n        centered: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, React.createElement(Modal.Header, {\n        closeButton: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, React.createElement(Modal.Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, \"Your requests\")), React.createElement(Modal.Body, {\n        className: \"user_request\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, this.state.requests && this.state.requests.length ? this.state.requests.map(function (request) {\n        return React.createElement(\"div\", {\n          key: (Math.floor(Math.random() * 10000) + 1).toString(),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48\n          },\n          __self: this\n        }, React.createElement(Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49\n          },\n          __self: this\n        }, React.createElement(Col, {\n          xs: 12,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50\n          },\n          __self: this\n        }, React.createElement(Card, {\n          className: \"requests\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51\n          },\n          __self: this\n        }, React.createElement(Card.Img, {\n          variant: \"top\",\n          src: \"https://source.unsplash.com/user/erondu\",\n          style: {\n            width: \"35%\",\n            height: \"100%\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }), React.createElement(Card.Body, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        }, React.createElement(Card.Title, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }, request.title), React.createElement(Card.Subtitle, {\n          className: \"mb-2 text-muted\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }, request.address), React.createElement(Card.Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        }, request.description), React.createElement(Button, {\n          onClick: function onClick() {\n            return _this2.handleSubmit(request.id, request.title);\n          },\n          variant: \"primary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }, \"Done\"))))));\n      }) : \"you don't have request\"), React.createElement(Modal.Footer, {\n        variant: \"secondary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"secondary\",\n        onClick: this.props.onCloseModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"Close\")));\n    }\n  }]);\n\n  return ModalUserRequest;\n}(Component);\n\nexport default withRouter(ModalUserRequest);","map":{"version":3,"sources":["/Users/adotmob/Desktop/volunteers-front/src/Modal_userRequest/modalUserRequest.js"],"names":["React","Component","Modal","Button","Card","Row","Col","withRouter","fetchRequests","deleteRequest","ModalUserRequest","props","handleSubmit","requestId","requestTitle","setState","openAlertDeleteRequest","state","requests","localStorage","authentication_token","client","email","user_id","show","onHide","length","map","request","Math","floor","random","toString","width","height","title","address","description","id","onCloseModal"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Modal, Button, Card, Row, Col } from \"react-bootstrap\";\nimport { withRouter } from \"react-router\";\nimport { fetchRequests, deleteRequest } from \"../api/backendApi\";\nimport \"./modelUserRequest.scss\";\n\nclass ModalUserRequest extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      requests: [],\n      openAlertDeleteRequest: false,\n      requestTitle: \"\",\n    };\n  }\n\n  async componentDidMount() {\n    const { authentication_token, client, email } = localStorage;\n    const requests = await fetchRequests(\n      authentication_token,\n      client,\n      email,\n      localStorage.user_id\n    );\n    this.setState({ requests });\n  }\n\n  handleSubmit = (requestId, requestTitle) => {\n    deleteRequest(requestId)\n    this.setState({requestTitle, openAlertDeleteRequest: true})\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.props.show}\n        onHide={this.props.onHide}\n        size=\"lg\"\n        centered\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Your requests</Modal.Title>\n        </Modal.Header>\n        <Modal.Body className={\"user_request\"}>\n          {this.state.requests && this.state.requests.length\n            ? this.state.requests.map(request => {\n                return (\n                  <div key={(Math.floor(Math.random() * 10000) + 1).toString()}>\n                    <Row>\n                      <Col xs={12}>\n                        <Card className={\"requests\"}>\n                          <Card.Img\n                            variant=\"top\"\n                            src={`https://source.unsplash.com/user/erondu`}\n                            style={{ width: \"35%\", height: \"100%\" }}\n                          />\n                          <Card.Body>\n                            <Card.Title>{request.title}</Card.Title>\n                            <Card.Subtitle className=\"mb-2 text-muted\">\n                              {request.address}\n                            </Card.Subtitle>\n                            <Card.Text>{request.description}</Card.Text>\n                            <Button\n                              onClick={() => this.handleSubmit(request.id, request.title)}\n                              variant=\"primary\"\n                            >\n                              Done\n                            </Button>\n                          </Card.Body>\n                        </Card>\n                      </Col>\n                    </Row>\n                  </div>\n                );\n              })\n            : \"you don't have request\"}\n        </Modal.Body>\n        <Modal.Footer variant=\"secondary\">\n          <Button variant=\"secondary\" onClick={this.props.onCloseModal}>\n            Close\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    );\n  }\n}\n\nexport default withRouter(ModalUserRequest);\n"]},"metadata":{},"sourceType":"module"}