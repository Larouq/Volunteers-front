{"ast":null,"code":"import _regeneratorRuntime from \"/Users/adotmob/Documents/opc/volunteers/Volunteers-front/node_modules/@babel/runtime/regenerator\";\nimport _objectSpread from \"/Users/adotmob/Documents/opc/volunteers/Volunteers-front/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _asyncToGenerator from \"/Users/adotmob/Documents/opc/volunteers/Volunteers-front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/adotmob/Documents/opc/volunteers/Volunteers-front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/adotmob/Documents/opc/volunteers/Volunteers-front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/adotmob/Documents/opc/volunteers/Volunteers-front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/adotmob/Documents/opc/volunteers/Volunteers-front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/adotmob/Documents/opc/volunteers/Volunteers-front/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/adotmob/Documents/opc/volunteers/Volunteers-front/src/Modal_login/modalLogin.js\";\nimport React, { Component } from \"react\";\nimport { Modal, Button, Form } from \"react-bootstrap\";\nimport { submitAuthentification } from \"../api/backendApi\";\n\nvar ModalLogin =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ModalLogin, _Component);\n\n  function ModalLogin(props) {\n    var _this;\n\n    _classCallCheck(this, ModalLogin);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ModalLogin).call(this, props));\n\n    _this.checkValidEmail = function (email) {\n      var emailRegex = /^(([^<>()[\\]\\\\.,;:\\s@]+(\\.[^<>()[\\]\\\\.,;:\\s@]+)*)|)@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n      if (email.length > 0) {\n        return emailRegex.test(email);\n      }\n\n      return false;\n    };\n\n    _this.handleChangeEmail = function (elem) {\n      _this.setState({\n        email: elem.target.value\n      });\n    };\n\n    _this.handleChangePassword = function (elem) {\n      _this.setState({\n        password: elem.target.value\n      });\n    };\n\n    _this.state = {\n      email: \"\",\n      password: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(ModalLogin, [{\n    key: \"handleSubmit\",\n    value: function () {\n      var _handleSubmit = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var user;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return submitAuthentification(_objectSpread({}, this.state));\n\n              case 2:\n                user = _context.sent;\n                this.props.setUser(user);\n                if (this.props.user.status === 401) this.props.setOpenAlert(true);\n\n                if (user) {\n                  this.props.history.push(\"/location\");\n                }\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function handleSubmit() {\n        return _handleSubmit.apply(this, arguments);\n      }\n\n      return handleSubmit;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(Modal, {\n        show: this.props.show,\n        onHide: this.props.onHide,\n        size: \"lg\",\n        centered: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, React.createElement(Modal.Header, {\n        closeButton: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(Modal.Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, \"Login\")), React.createElement(Modal.Body, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(Form.Control, {\n        onChange: this.handleChangeEmail,\n        isValid: this.checkValidEmail(this.state.email),\n        isInvalid: this.state.email && !this.checkValidEmail(this.state.email),\n        type: \"text\",\n        placeholder: \"Email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }), React.createElement(Form.Control, {\n        style: {\n          marginTop: \"20px\"\n        },\n        onChange: this.handleChangePassword,\n        isValid: this.state.password.length > 5,\n        type: \"Password\",\n        placeholder: \"Password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }))), React.createElement(Modal.Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"secondary\",\n        onClick: this.props.onCloseModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"Close\"), React.createElement(Button, {\n        variant: \"primary\",\n        onClick: function onClick() {\n          return _this2.handleSubmit();\n        },\n        disabled: !this.state.email || !this.state.password,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \"Submit\")));\n    }\n  }]);\n\n  return ModalLogin;\n}(Component);\n\nexport default ModalLogin;","map":{"version":3,"sources":["/Users/adotmob/Documents/opc/volunteers/Volunteers-front/src/Modal_login/modalLogin.js"],"names":["React","Component","Modal","Button","Form","submitAuthentification","ModalLogin","props","checkValidEmail","email","emailRegex","length","test","handleChangeEmail","elem","setState","target","value","handleChangePassword","password","state","user","setUser","status","setOpenAlert","history","push","show","onHide","marginTop","onCloseModal","handleSubmit"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Modal, Button, Form } from \"react-bootstrap\";\nimport { submitAuthentification } from \"../api/backendApi\";\n\nclass ModalLogin extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      password: \"\"\n    };\n  }\n\n  checkValidEmail = email => {\n    const emailRegex = /^(([^<>()[\\]\\\\.,;:\\s@]+(\\.[^<>()[\\]\\\\.,;:\\s@]+)*)|)@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n    if (email.length > 0) {\n      return emailRegex.test(email);\n    }\n\n    return false;\n  };\n\n  handleChangeEmail = elem => {\n    this.setState({ email: elem.target.value });\n  };\n\n  handleChangePassword = elem => {\n    this.setState({ password: elem.target.value });\n  };\n\n  async handleSubmit() {\n    const user = await submitAuthentification({ ...this.state });\n    this.props.setUser(user);\n    if (this.props.user.status === 401) this.props.setOpenAlert(true);\n    if (user) {\n      this.props.history.push(\"/location\");\n    }\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.props.show}\n        onHide={this.props.onHide}\n        size=\"lg\"\n        centered\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Login</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <Form>\n            <Form.Control\n              onChange={this.handleChangeEmail}\n              isValid={this.checkValidEmail(this.state.email)}\n              isInvalid={\n                this.state.email && !this.checkValidEmail(this.state.email)\n              }\n              type=\"text\"\n              placeholder=\"Email\"\n            />\n            <Form.Control\n              style={{ marginTop: \"20px\" }}\n              onChange={this.handleChangePassword}\n              isValid={this.state.password.length > 5}\n              type=\"Password\"\n              placeholder=\"Password\"\n            />\n          </Form>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={this.props.onCloseModal}>\n            Close\n          </Button>\n          <Button\n            variant=\"primary\"\n            onClick={() => this.handleSubmit()}\n            disabled={!this.state.email || !this.state.password}\n          >\n            Submit\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    );\n  }\n}\n\nexport default ModalLogin;\n"]},"metadata":{},"sourceType":"module"}