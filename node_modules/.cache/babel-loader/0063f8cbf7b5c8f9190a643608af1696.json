{"ast":null,"code":"import _regeneratorRuntime from \"/Users/adotmob/Documents/opc/volunteers/Volunteers-front/node_modules/@babel/runtime/regenerator\";\nimport _objectSpread from \"/Users/adotmob/Documents/opc/volunteers/Volunteers-front/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _asyncToGenerator from \"/Users/adotmob/Documents/opc/volunteers/Volunteers-front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/adotmob/Documents/opc/volunteers/Volunteers-front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/adotmob/Documents/opc/volunteers/Volunteers-front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/adotmob/Documents/opc/volunteers/Volunteers-front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/adotmob/Documents/opc/volunteers/Volunteers-front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/adotmob/Documents/opc/volunteers/Volunteers-front/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/adotmob/Documents/opc/volunteers/Volunteers-front/src/Modal_login/modalLogin.js\";\nimport React, { Component } from \"react\";\nimport { Modal, Button, Form, Alert } from \"react-bootstrap\";\nimport { submitAuthentification } from \"../api/backendApi.js\";\n\nvar ModalLogin =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ModalLogin, _Component);\n\n  function ModalLogin(props) {\n    var _this;\n\n    _classCallCheck(this, ModalLogin);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ModalLogin).call(this, props));\n\n    _this.handleChangeEmail = function (elem) {\n      _this.setState({\n        email: elem.target.value\n      });\n    };\n\n    _this.handleChangePassword = function (elem) {\n      _this.setState({\n        password: elem.target.value\n      });\n    };\n\n    _this.state = {\n      email: \"\",\n      password: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(ModalLogin, [{\n    key: \"handleSubmit\",\n    value: function () {\n      var _handleSubmit = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var user;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return submitAuthentification(_objectSpread({}, this.state));\n\n              case 2:\n                user = _context.sent;\n                this.setState({\n                  user: user\n                });\n                if (this.state.user.status === 401) this.setState({\n                  openAlert: true\n                });\n\n                if (user) {\n                  this.props.history.push(\"/location\");\n                }\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function handleSubmit() {\n        return _handleSubmit.apply(this, arguments);\n      }\n\n      return handleSubmit;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Modal, {\n        show: this.props.show,\n        onHide: this.props.onHide,\n        size: \"lg\",\n        centered: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, React.createElement(Modal.Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, React.createElement(Modal.Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, \"Login\")), React.createElement(Modal.Body, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, React.createElement(Form.Control, {\n        onChange: this.handleChangeEmail,\n        isValid: this.checkValidEmail(this.state.email),\n        isInvalid: this.state.email && !this.checkValidEmail(this.state.email),\n        type: \"text\",\n        placeholder: \"Email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }), React.createElement(Form.Control, {\n        onChange: this.handleChangePassword,\n        isValid: this.state.password.length > 5,\n        type: \"Password\",\n        placeholder: \"Password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }))), React.createElement(Modal.Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"secondary\",\n        onClick: this.props.onCloseModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \"Close\"), React.createElement(Button, {\n        variant: \"primary\",\n        onClick: this.handleSubmit,\n        disabled: !this.state.email || !this.state.password,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"Submit\")));\n    }\n  }]);\n\n  return ModalLogin;\n}(Component);\n\nexport default ModalLogin;","map":{"version":3,"sources":["/Users/adotmob/Documents/opc/volunteers/Volunteers-front/src/Modal_login/modalLogin.js"],"names":["React","Component","Modal","Button","Form","Alert","submitAuthentification","ModalLogin","props","handleChangeEmail","elem","setState","email","target","value","handleChangePassword","password","state","user","status","openAlert","history","push","show","onHide","checkValidEmail","length","onCloseModal","handleSubmit"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Modal, Button, Form, Alert } from \"react-bootstrap\";\nimport { submitAuthentification } from \"../api/backendApi.js\";\n\nclass ModalLogin extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      password: \"\"\n    };\n  }\n\n  handleChangeEmail = elem => {\n    this.setState({ email: elem.target.value });\n  };\n\n  handleChangePassword = elem => {\n    this.setState({ password: elem.target.value });\n  };\n\n  async handleSubmit() {\n    const user = await submitAuthentification({ ...this.state });\n    this.setState({ user });\n    if (this.state.user.status === 401) this.setState({ openAlert: true });\n    if (user) {\n      this.props.history.push(\"/location\");\n    }\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.props.show}\n        onHide={this.props.onHide}\n        size=\"lg\"\n        centered\n      >\n        <Modal.Header>\n          <Modal.Title>Login</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <Form>\n            <Form.Control\n              onChange={this.handleChangeEmail}\n              isValid={this.checkValidEmail(this.state.email)}\n              isInvalid={\n                this.state.email && !this.checkValidEmail(this.state.email)\n              }\n              type=\"text\"\n              placeholder=\"Email\"\n            />\n            <Form.Control\n              onChange={this.handleChangePassword}\n              isValid={this.state.password.length > 5}\n              type=\"Password\"\n              placeholder=\"Password\"\n            />\n          </Form>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={this.props.onCloseModal}>\n            Close\n          </Button>\n          <Button\n            variant=\"primary\"\n            onClick={this.handleSubmit}\n            disabled={!this.state.email || !this.state.password}\n          >\n            Submit\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    );\n  }\n}\n\nexport default ModalLogin;\n"]},"metadata":{},"sourceType":"module"}